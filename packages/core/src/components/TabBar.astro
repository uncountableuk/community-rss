---
/**
 * TabBar component â€” navigation tabs for feed views.
 *
 * In 0.2.0, only "All Feeds" is active. Other tabs are stubs
 * that will be enabled in subsequent releases.
 *
 * @since 0.2.0
 */

interface Tab {
  id: string;
  label: string;
  active: boolean;
  disabled: boolean;
}

const tabs: Tab[] = [
  { id: 'all', label: 'All Feeds', active: true, disabled: false },
  { id: 'following', label: 'My Feed', active: false, disabled: true },
  { id: 'trending', label: 'Trending', active: false, disabled: true },
  { id: 'starred', label: 'Starred', active: false, disabled: true },
];
---

<nav class="crss-tab-bar" role="tablist" aria-label="Feed views">
  {tabs.map((tab) => (
    <button
      role="tab"
      id={`tab-${tab.id}`}
      class:list={[
        'crss-tab-bar__tab',
        { 'crss-tab-bar__tab--active': tab.active },
        { 'crss-tab-bar__tab--disabled': tab.disabled },
      ]}
      aria-selected={tab.active}
      disabled={tab.disabled}
      data-tab={tab.id}
    >
      {tab.label}
    </button>
  ))}
</nav>

<style>
  .crss-tab-bar {
    display: flex;
    gap: var(--crss-space-xs);
    border-bottom: 2px solid var(--crss-surface-2);
    margin-bottom: var(--crss-space-lg);
    overflow-x: auto;
  }

  .crss-tab-bar__tab {
    padding: var(--crss-space-sm) var(--crss-space-md);
    border: none;
    background: none;
    font-family: var(--crss-font-family);
    font-size: var(--crss-font-size-sm);
    font-weight: 500;
    color: var(--crss-text-muted);
    cursor: pointer;
    border-bottom: 2px solid transparent;
    margin-bottom: -2px;
    transition: color 0.15s ease, border-color 0.15s ease;
    white-space: nowrap;
  }

  .crss-tab-bar__tab:hover:not(:disabled) {
    color: var(--crss-text-primary);
  }

  .crss-tab-bar__tab--active {
    color: var(--crss-brand-primary);
    border-bottom-color: var(--crss-brand-primary);
  }

  .crss-tab-bar__tab--disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
</style>
