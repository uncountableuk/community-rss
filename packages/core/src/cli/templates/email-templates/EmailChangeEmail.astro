---
/**
 * Email change verification email template (developer-owned).
 *
 * This file was scaffolded by `@community-rss/core init`.
 * You can customise the layout, copy, and styles freely â€”
 * it will not be overwritten by future scaffolds.
 *
 * Theme values (colours, typography, spacing, branding) are
 * configured in `astro.config.mjs` under `email.theme` and
 * passed as the `theme` prop. Edit the config to rebrand;
 * edit this file to change structure/copy.
 *
 * @see https://community-rss.dev/docs/email-templates
 */
import EmailLayout from './EmailLayout.astro';

interface Props {
  verificationUrl: string;
  appName?: string;
  greeting?: string;
  theme?: Record<string, any>;
}

const {
  verificationUrl,
  appName = 'Community RSS',
  greeting = 'Hi there,',
  theme = {},
} = Astro.props;
const colors = theme.colors ?? {};
const spacing = theme.spacing ?? {};
---

<EmailLayout appName={appName} theme={theme}>
  <p style="margin: 0 0 16px 0;">{greeting}</p>
  <p style="margin: 0 0 16px 0;">
    You requested an email address change on <strong>{appName}</strong>.
  </p>
  <p style="margin: 0 0 16px 0;">Click the button below to confirm your new address:</p>
  <p style="margin: 24px 0;">
    <a
      href={verificationUrl}
      style={`background-color: ${colors.primary ?? '#4f46e5'}; color: ${colors.buttonText ?? '#ffffff'}; padding: ${spacing.buttonPadding ?? '12px 24px'}; text-decoration: none; border-radius: ${spacing.buttonRadius ?? '8px'}; display: inline-block; font-weight: 600;`}
    >
      Confirm Email Change
    </a>
  </p>
  <p style={`margin: 0 0 8px 0; color: ${colors.mutedText ?? '#6b7280'}; font-size: 14px;`}>
    This link expires in 24 hours.
  </p>
  <p style={`margin: 0; color: ${colors.mutedText ?? '#6b7280'}; font-size: 14px;`}>
    If you did not request this change, you can safely ignore this email. Your current email remains
    active.
  </p>
</EmailLayout>
